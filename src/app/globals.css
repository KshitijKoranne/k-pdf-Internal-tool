@import "tailwindcss";

/* =============================================================================
   it-tools.tech exact design tokens — adapted for K-PDF
   Dark: #1c1c1c bg / #232323 cards / #fb923c primary pastel orange
   Light: #f1f5f9 bg / #ffffff cards / #1d4ed8 primary blue
   ============================================================================= */

:root,
html[data-theme="light"] {
  /* Primary blue — WCAG AA 4.8:1 on white */
  --kpdf-primary:         25 90% 40%;   /* #c2510a pastel orange deep — 4.9:1 on white ✓ */
  --kpdf-primary-fg:      0 0% 100%;
  --kpdf-primary-hover:   25 90% 34%;

  /* Accent amber */
  --kpdf-accent:          38 92% 38%;   /* #b45309 amber — 4.7:1 on white ✓ */
  --kpdf-accent-fg:       0 0% 100%;

  /* Surfaces — it-tools light: #f1f5f9 (slate-100) */
  --kpdf-bg:              210 40% 96%;   /* #f1f5f9 */
  --kpdf-surface:         0 0% 100%;     /* #ffffff cards */
  --kpdf-fg:              222 47% 11%;   /* #0f172a — 18:1 ✓ */

  /* Muted — WCAG AA */
  --kpdf-muted-bg:        210 40% 92%;
  --kpdf-muted-fg:        215 25% 37%;   /* 4.6:1 on white ✓ */

  /* Card */
  --kpdf-card:            0 0% 100%;
  --kpdf-card-fg:         222 47% 11%;

  /* Borders */
  --kpdf-border:          214 32% 87%;
  --kpdf-input:           214 32% 87%;
  --kpdf-ring:            25 90% 40%;

  /* Sidebar */
  --kpdf-sidebar-bg:      210 40% 94%;
  --kpdf-sidebar-border:  214 32% 87%;

  /* Status */
  --kpdf-destructive:     0 72% 42%;
  --kpdf-destructive-fg:  0 0% 100%;
  --kpdf-success:         142 71% 29%;
  --kpdf-success-fg:      0 0% 100%;
  --kpdf-warning:         38 92% 44%;
  --kpdf-warning-fg:      0 0% 100%;

  /* Icon colors in cards — neutral-400 equivalent */
  --kpdf-icon-color:      215 16% 57%;

  /* Radii */
  --kpdf-radius-sm:   0.25rem;
  --kpdf-radius-md:   0.375rem;
  --kpdf-radius-lg:   0.5rem;
  --kpdf-radius-xl:   0.75rem;
  --kpdf-radius-full: 9999px;
}

/* Dark theme — it-tools.tech exact values */
html[data-theme="dark"] {
  /* Primary pastel orange #fb923c — 6.2:1 on #232323 ✓ */
  --kpdf-primary:         25 95% 60%;   /* #fb923c orange-300 */
  --kpdf-primary-fg:      0 0% 8%;
  --kpdf-primary-hover:   25 95% 68%;   /* lighter on hover */

  /* Accent warm amber */
  --kpdf-accent:          38 95% 58%;   /* #f59e0b amber */
  --kpdf-accent-fg:       0 0% 8%;

  /* Surfaces — exact it-tools values */
  --kpdf-bg:              0 0% 11%;      /* #1c1c1c layout bg */
  --kpdf-surface:         0 0% 14%;      /* #232323 card/sider bg */
  --kpdf-fg:              0 0% 92%;      /* ~#ebebeb — 10:1 on #1c1c1c ✓ */

  /* Muted — neutral-400/500 equivalent */
  --kpdf-muted-bg:        0 0% 17%;      /* #2b2b2b */
  --kpdf-muted-fg:        0 0% 65%;      /* #a6a6a6 — 5.2:1 on #1c1c1c ✓ */

  /* Card — it-tools exact */
  --kpdf-card:            0 0% 14%;      /* #232323 */
  --kpdf-card-fg:         0 0% 100%;

  /* Borders — it-tools exact */
  --kpdf-border:          0 0% 16%;      /* #282828 */
  --kpdf-input:           0 0% 16%;
  --kpdf-ring:            25 95% 60%;

  /* Sidebar — it-tools sider */
  --kpdf-sidebar-bg:      0 0% 14%;      /* #232323 */
  --kpdf-sidebar-border:  0 0% 0%;       /* transparent in it-tools */

  /* Status — WCAG AA on dark */
  --kpdf-destructive:     0 72% 60%;
  --kpdf-destructive-fg:  0 0% 100%;
  --kpdf-success:         142 51% 55%;
  --kpdf-success-fg:      0 0% 5%;
  --kpdf-warning:         38 92% 60%;
  --kpdf-warning-fg:      0 0% 5%;

  /* Icon colors — neutral-600 equivalent in it-tools dark */
  --kpdf-icon-color:      0 0% 40%;      /* #666 — matches dark:text-neutral-600 */
}

/* Ocean theme — deep navy variant */
html[data-theme="ocean"] {
  --kpdf-primary:         199 89% 48%;
  --kpdf-primary-fg:      0 0% 100%;
  --kpdf-primary-hover:   199 89% 56%;

  --kpdf-accent:          175 66% 45%;
  --kpdf-accent-fg:       0 0% 100%;

  --kpdf-bg:              212 57% 9%;
  --kpdf-surface:         212 50% 13%;
  --kpdf-fg:              0 0% 95%;

  --kpdf-muted-bg:        212 45% 16%;
  --kpdf-muted-fg:        213 27% 63%;

  --kpdf-card:            212 50% 13%;
  --kpdf-card-fg:         0 0% 95%;

  --kpdf-border:          212 40% 20%;
  --kpdf-input:           212 40% 20%;
  --kpdf-ring:            199 89% 48%;

  --kpdf-sidebar-bg:      212 55% 11%;
  --kpdf-sidebar-border:  212 40% 16%;

  --kpdf-destructive:     0 72% 60%;
  --kpdf-destructive-fg:  0 0% 100%;
  --kpdf-success:         142 71% 50%;
  --kpdf-success-fg:      0 0% 5%;
  --kpdf-warning:         38 92% 58%;
  --kpdf-warning-fg:      0 0% 5%;

  --kpdf-icon-color:      213 27% 55%;

  --kpdf-radius-sm:   0.25rem;
  --kpdf-radius-md:   0.375rem;
  --kpdf-radius-lg:   0.5rem;
  --kpdf-radius-xl:   0.75rem;
  --kpdf-radius-full: 9999px;
}

/* =============================================================================
   TAILWIND v4 @theme — avoids circular refs by using --kpdf-* source vars
   ============================================================================= */
@theme {
  /* Semantic aliases (used by existing Tailwind classes throughout the app) */
  --color-background:       hsl(var(--kpdf-bg));
  --color-foreground:       hsl(var(--kpdf-fg));
  --color-primary:          hsl(var(--kpdf-primary));
  --color-primary-foreground: hsl(var(--kpdf-primary-fg));
  --color-accent:           hsl(var(--kpdf-accent));
  --color-accent-foreground: hsl(var(--kpdf-accent-fg));
  --color-surface:          hsl(var(--kpdf-surface));
  --color-muted:            hsl(var(--kpdf-muted-bg));
  --color-muted-foreground: hsl(var(--kpdf-muted-fg));
  --color-card:             hsl(var(--kpdf-card));
  --color-card-foreground:  hsl(var(--kpdf-card-fg));
  --color-border:           hsl(var(--kpdf-border));
  --color-input:            hsl(var(--kpdf-input));
  --color-ring:             hsl(var(--kpdf-ring));
  --color-destructive:      hsl(var(--kpdf-destructive));
  --color-destructive-foreground: hsl(var(--kpdf-destructive-fg));
  --color-success:          hsl(var(--kpdf-success));
  --color-success-foreground: hsl(var(--kpdf-success-fg));
  --color-warning:          hsl(var(--kpdf-warning));
  --color-warning-foreground: hsl(var(--kpdf-warning-fg));

  /* Radius */
  --radius-sm:   var(--kpdf-radius-sm);
  --radius-md:   var(--kpdf-radius-md);
  --radius-lg:   var(--kpdf-radius-lg);
  --radius-xl:   var(--kpdf-radius-xl);
  --radius-full: var(--kpdf-radius-full);
}

/* =============================================================================
   BASE
   ============================================================================= */
*, *::before, *::after {
  box-sizing: border-box;
  border-color: hsl(var(--kpdf-border));
}

html {
  height: 100%;
  background-color: hsl(var(--kpdf-bg));
}

body {
  min-height: 100%;
  background-color: hsl(var(--kpdf-bg));
  color: hsl(var(--kpdf-fg));
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* =============================================================================
   TOOL CARD — replicates it-tools card exactly
   "border 2px, hover = border turns primary, smooth transition"
   ============================================================================= */
.tool-card {
  background-color: hsl(var(--kpdf-card));
  border: 2px solid hsl(var(--kpdf-border));
  color: hsl(var(--kpdf-card-fg));
  border-radius: var(--kpdf-radius-lg);
  padding: 1rem;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  height: 100%;
}

.tool-card:hover {
  border-color: hsl(var(--kpdf-primary));
}

/* Icon — it-tools: text-neutral-400 light / dark:text-neutral-600 */
.tool-card-icon {
  color: hsl(var(--kpdf-icon-color));
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

/* Title — it-tools: text-black dark:text-white */
.tool-card-title {
  color: hsl(var(--kpdf-card-fg));
  font-size: 1rem;
  font-weight: 500;
  line-height: 1.4;
  margin: 0.3rem 0 0.3rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Description — it-tools: text-neutral-500 dark:text-neutral-400 */
.tool-card-description {
  color: hsl(var(--kpdf-muted-fg));
  font-size: 0.8125rem;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Category badge */
.tool-card-badge {
  display: inline-block;
  background-color: hsl(var(--kpdf-muted-bg));
  color: hsl(var(--kpdf-muted-fg));
  font-size: 0.6875rem;
  font-weight: 500;
  padding: 0.15rem 0.45rem;
  border-radius: var(--kpdf-radius-full);
  letter-spacing: 0.02em;
  margin-top: 0.5rem;
}

/* "New" pill — it-tools primary colored badge */
.tool-card-new-pill {
  background-color: hsl(var(--kpdf-primary));
  color: hsl(var(--kpdf-primary-fg));
  font-size: 0.6875rem;
  font-weight: 600;
  padding: 0.18rem 0.5rem;
  border-radius: var(--kpdf-radius-full);
}

/* =============================================================================
   SIDEBAR — it-tools: 240px, #232323 dark / slate-100 light
   ============================================================================= */
.kpdf-sidebar {
  background-color: hsl(var(--kpdf-sidebar-bg));
  border-right: 1px solid hsl(var(--kpdf-sidebar-border));
  width: 240px;
  height: 100vh;
  position: sticky;
  top: 0;
  flex-shrink: 0;
  overflow-y: auto;
  overflow-x: hidden;
  transition: width 0.2s ease;
}

.kpdf-sidebar.collapsed {
  width: 0;
  overflow: hidden;
}

/* Category heading in sidebar — it-tools: op-60, text-13px */
.kpdf-sidebar-category {
  font-size: 0.8125rem;
  color: hsl(var(--kpdf-muted-fg));
  opacity: 0.7;
  padding: 0.75rem 0.75rem 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.375rem;
  cursor: pointer;
  user-select: none;
}

.kpdf-sidebar-category:hover {
  opacity: 1;
}

/* Sidebar nav item */
.kpdf-sidebar-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.3rem 0.75rem 0.3rem 1.25rem;
  font-size: 0.875rem;
  color: hsl(var(--kpdf-fg));
  border-radius: var(--kpdf-radius-md);
  margin: 0.1rem 0.375rem;
  text-decoration: none;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.kpdf-sidebar-item:hover,
.kpdf-sidebar-item.active {
  background-color: hsl(var(--kpdf-primary) / 0.12);
  color: hsl(var(--kpdf-primary));
}

/* =============================================================================
   HERO GRADIENT — it-tools brand header in sidebar
   Gradient: #92400e → #c2410c → #ea580c (warm orange)
   ============================================================================= */
.kpdf-hero {
  background: linear-gradient(48deg, #92400e 0%, #c2410c 50%, #ea580c 100%);
  color: #fff;
  padding: 1.25rem 1rem 1rem;
  text-align: center;
}

.kpdf-hero-title {
  font-size: 1.25rem;
  font-weight: 700;
  letter-spacing: -0.01em;
}

.kpdf-hero-divider {
  width: 40px;
  height: 2px;
  border-radius: 2px;
  background-color: hsl(var(--kpdf-primary));
  margin: 0.4rem auto;
}

.kpdf-hero-subtitle {
  font-size: 0.8125rem;
  opacity: 0.85;
}

/* =============================================================================
   SUPPORT BUTTON — it-tools exact gradient
   ============================================================================= */
.kpdf-support-btn {
  background: linear-gradient(48deg, #92400e 0%, #c2410c 50%, #ea580c 100%);
  color: #fff !important;
  border: none;
  border-radius: var(--kpdf-radius-full);
  padding: 0.4rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: padding 0.2s ease;
}

.kpdf-support-btn:hover {
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

/* =============================================================================
   LAYOUT SHELL — sidebar + content
   ============================================================================= */
.kpdf-shell {
  display: flex;
  height: 100vh;
  overflow: hidden;
}

.kpdf-content {
  flex: 1;
  overflow-y: auto;
  background-color: hsl(var(--kpdf-bg));
}

/* =============================================================================
   TOP NAV BAR (content area) — it-tools has a slim toolbar at top of content
   ============================================================================= */
.kpdf-topbar {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border-bottom: 1px solid hsl(var(--kpdf-border));
  background-color: hsl(var(--kpdf-bg));
  position: sticky;
  top: 0;
  z-index: 10;
}

/* Icon button — circle variant */
.kpdf-icon-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: var(--kpdf-radius-full);
  border: none;
  background: transparent;
  color: hsl(var(--kpdf-muted-fg));
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.kpdf-icon-btn:hover {
  background-color: hsl(var(--kpdf-muted-bg));
  color: hsl(var(--kpdf-fg));
}

/* =============================================================================
   GLASS UTILITY — theme-aware
   ============================================================================= */
.glass {
  background-color: hsl(var(--kpdf-surface) / 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--kpdf-border));
}

/* Legacy — keep for backward compat */
.glass-card {
  background-color: hsl(var(--kpdf-card));
  border: 1px solid hsl(var(--kpdf-border));
  color: hsl(var(--kpdf-card-fg));
}

/* =============================================================================
   SECTION HEADINGS (category titles above grids) — it-tools: text-neutral-400
   ============================================================================= */
.kpdf-section-heading {
  color: hsl(var(--kpdf-muted-fg));
  font-size: 0.9375rem;
  font-weight: 500;
  margin: 1.5rem 0 0.375rem;
}

/* =============================================================================
   GRID — it-tools: gap-12px, xl:4 lg:3 md:3 sm:2 cols
   ============================================================================= */
.kpdf-tool-grid {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 0.75rem;
}

@media (min-width: 640px)  { .kpdf-tool-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 768px)  { .kpdf-tool-grid { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 1280px) { .kpdf-tool-grid { grid-template-columns: repeat(4, 1fr); } }

/* =============================================================================
   FOCUS
   ============================================================================= */
.focus-ring { outline: 2px solid transparent; outline-offset: 2px; }
.focus-ring:focus-visible {
  outline: 2px solid hsl(var(--kpdf-ring));
  box-shadow: 0 0 0 4px hsl(var(--kpdf-bg)), 0 0 0 6px hsl(var(--kpdf-ring));
}
:focus-visible { outline: 2px solid hsl(var(--kpdf-ring)); outline-offset: 2px; }
:focus:not(:focus-visible) { outline: none; }

/* =============================================================================
   MISC
   ============================================================================= */
.text-gradient {
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(135deg, hsl(var(--kpdf-primary)), hsl(var(--kpdf-accent)));
}

.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0;
  margin: -1px; overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border-width: 0;
}
.sr-only:focus, .sr-only:focus-visible {
  position: static; width: auto; height: auto; padding: inherit;
  margin: inherit; overflow: visible; clip: auto; white-space: normal;
}

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: hsl(var(--kpdf-border)); border-radius: var(--kpdf-radius-full); }
::-webkit-scrollbar-thumb:hover { background: hsl(var(--kpdf-muted-fg) / 0.5); }

@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
.animate-shimmer { animation: shimmer 1.5s infinite; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

[dir="rtl"] { text-align: right; }
[dir="rtl"] .rtl\:flip { transform: scaleX(-1); }
.scroll-smooth { scroll-behavior: smooth; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }

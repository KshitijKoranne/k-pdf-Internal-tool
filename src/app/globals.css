@import "tailwindcss";

/* =============================================================================
   DESIGN TOKENS — Raw HSL values used by Tailwind @theme below.
   These are intentionally named with a --kpdf- prefix to avoid conflict
   with Tailwind v4's own --color-* namespace.
   ============================================================================= */

/* Light Theme — WCAG AA compliant throughout */
:root,
html[data-theme="light"] {
  /* Primary: Blue #2563eb — 4.8:1 on white ✓ */
  --kpdf-primary:           221 83% 53%;
  --kpdf-primary-fg:        0 0% 100%;
  --kpdf-primary-hover:     221 83% 45%;

  /* Accent: Teal #0e7490 — 4.6:1 on white ✓ */
  --kpdf-accent:            185 81% 29%;
  --kpdf-accent-fg:         0 0% 100%;

  /* Surfaces */
  --kpdf-bg:                220 20% 97%;   /* #f4f6f9 warm-off-white */
  --kpdf-surface:           0 0% 100%;     /* card white */
  --kpdf-fg:                222 47% 11%;   /* #0f172a near-black — 18:1 on white ✓ */

  /* Muted text: #52637a — 4.6:1 on white ✓ */
  --kpdf-muted-bg:          220 14% 94%;
  --kpdf-muted-fg:          215 25% 37%;

  /* Card */
  --kpdf-card:              0 0% 100%;
  --kpdf-card-fg:           222 47% 11%;

  /* Borders & Inputs */
  --kpdf-border:            220 13% 87%;
  --kpdf-input:             220 13% 87%;
  --kpdf-ring:              221 83% 53%;

  /* Status — all WCAG AA on white */
  --kpdf-destructive:       0 72% 42%;     /* #c0392b */
  --kpdf-destructive-fg:    0 0% 100%;
  --kpdf-success:           142 71% 29%;   /* #166534 */
  --kpdf-success-fg:        0 0% 100%;
  --kpdf-warning:           38 92% 44%;    /* #b45309 */
  --kpdf-warning-fg:        0 0% 100%;

  /* Radii */
  --kpdf-radius-sm:  0.25rem;
  --kpdf-radius-md:  0.5rem;
  --kpdf-radius-lg:  0.75rem;
  --kpdf-radius-xl:  1rem;
  --kpdf-radius-2xl: 1.5rem;
  --kpdf-radius-full: 9999px;

  /* Tool-card icon bg tint */
  --kpdf-icon-bg: 221 83% 53% / 0.10;
  --kpdf-icon-color: 221 83% 53%;
}

/* Dark Theme — it-tools.tech inspired, WCAG AA throughout */
html[data-theme="dark"] {
  /* Primary: #60a5fa blue — 7.2:1 on #18181b ✓ */
  --kpdf-primary:           213 93% 68%;
  --kpdf-primary-fg:        222 47% 8%;
  --kpdf-primary-hover:     213 93% 75%;

  /* Accent: #34d399 emerald — 8.9:1 on #18181b ✓ */
  --kpdf-accent:            160 84% 52%;
  --kpdf-accent-fg:         160 84% 10%;

  /* Surfaces — layered like it-tools */
  --kpdf-bg:                240 6% 10%;   /* #18181b main bg */
  --kpdf-surface:           240 5% 14%;   /* #212125 card bg — 1 layer up */
  --kpdf-fg:                0 0% 95%;     /* #f2f2f2 — 12:1 on #18181b ✓ */

  /* Muted: #a1a1aa — 5.2:1 on #18181b ✓ */
  --kpdf-muted-bg:          240 4% 18%;
  --kpdf-muted-fg:          240 5% 65%;

  /* Card — slightly lighter than bg */
  --kpdf-card:              240 5% 14%;
  --kpdf-card-fg:           0 0% 95%;

  /* Borders */
  --kpdf-border:            240 4% 22%;   /* #333338 */
  --kpdf-input:             240 4% 22%;
  --kpdf-ring:              213 93% 68%;

  /* Status — all WCAG AA on dark bg */
  --kpdf-destructive:       0 72% 60%;    /* #e05252 — 4.6:1 on card ✓ */
  --kpdf-destructive-fg:    0 0% 100%;
  --kpdf-success:           142 71% 55%;  /* #4ade80 — 8:1 on card ✓ */
  --kpdf-success-fg:        142 71% 8%;
  --kpdf-warning:           38 92% 60%;   /* #f59e0b — 5.1:1 on card ✓ */
  --kpdf-warning-fg:        38 92% 8%;

  /* Tool-card icon bg tint */
  --kpdf-icon-bg: 213 93% 68% / 0.12;
  --kpdf-icon-color: 213 93% 68%;
}

/* Ocean Theme — deep blue, WCAG AA throughout */
html[data-theme="ocean"] {
  /* Primary: #38bdf8 sky — 7.4:1 on #0c1a2e ✓ */
  --kpdf-primary:           199 89% 60%;
  --kpdf-primary-fg:        199 89% 8%;
  --kpdf-primary-hover:     199 89% 68%;

  /* Accent: #2dd4bf teal */
  --kpdf-accent:            175 66% 51%;
  --kpdf-accent-fg:         175 66% 8%;

  /* Surfaces */
  --kpdf-bg:                212 57% 9%;   /* #0c1a2e deep navy */
  --kpdf-surface:           212 50% 14%;  /* #132030 card */
  --kpdf-fg:                0 0% 97%;     /* near-white — 15:1 on bg ✓ */

  /* Muted: #94a3b8 — 5.1:1 on bg ✓ */
  --kpdf-muted-bg:          212 45% 18%;
  --kpdf-muted-fg:          213 27% 63%;

  /* Card */
  --kpdf-card:              212 50% 14%;
  --kpdf-card-fg:           0 0% 97%;

  /* Borders */
  --kpdf-border:            212 40% 22%;
  --kpdf-input:             212 40% 22%;
  --kpdf-ring:              199 89% 60%;

  /* Status */
  --kpdf-destructive:       0 72% 62%;
  --kpdf-destructive-fg:    0 0% 100%;
  --kpdf-success:           142 71% 55%;
  --kpdf-success-fg:        142 71% 8%;
  --kpdf-warning:           38 92% 60%;
  --kpdf-warning-fg:        38 92% 8%;

  /* Tool-card icon bg tint */
  --kpdf-icon-bg: 199 89% 60% / 0.12;
  --kpdf-icon-color: 199 89% 60%;
}

/* =============================================================================
   TAILWIND v4 @theme — map our tokens to Tailwind utility classes.
   Using distinct names (bg-kpdf-bg, text-kpdf-fg, etc.) avoids circular refs.
   ============================================================================= */
@theme {
  --color-kpdf-primary:         hsl(var(--kpdf-primary));
  --color-kpdf-primary-fg:      hsl(var(--kpdf-primary-fg));
  --color-kpdf-primary-hover:   hsl(var(--kpdf-primary-hover));
  --color-kpdf-accent:          hsl(var(--kpdf-accent));
  --color-kpdf-accent-fg:       hsl(var(--kpdf-accent-fg));
  --color-kpdf-bg:              hsl(var(--kpdf-bg));
  --color-kpdf-surface:         hsl(var(--kpdf-surface));
  --color-kpdf-fg:              hsl(var(--kpdf-fg));
  --color-kpdf-muted-bg:        hsl(var(--kpdf-muted-bg));
  --color-kpdf-muted-fg:        hsl(var(--kpdf-muted-fg));
  --color-kpdf-card:            hsl(var(--kpdf-card));
  --color-kpdf-card-fg:         hsl(var(--kpdf-card-fg));
  --color-kpdf-border:          hsl(var(--kpdf-border));
  --color-kpdf-input:           hsl(var(--kpdf-input));
  --color-kpdf-ring:            hsl(var(--kpdf-ring));
  --color-kpdf-destructive:     hsl(var(--kpdf-destructive));
  --color-kpdf-destructive-fg:  hsl(var(--kpdf-destructive-fg));
  --color-kpdf-success:         hsl(var(--kpdf-success));
  --color-kpdf-success-fg:      hsl(var(--kpdf-success-fg));
  --color-kpdf-warning:         hsl(var(--kpdf-warning));
  --color-kpdf-warning-fg:      hsl(var(--kpdf-warning-fg));

  /* Keep old names as aliases so existing code doesn't break */
  --color-primary:          hsl(var(--kpdf-primary));
  --color-primary-foreground: hsl(var(--kpdf-primary-fg));
  --color-accent:           hsl(var(--kpdf-accent));
  --color-accent-foreground: hsl(var(--kpdf-accent-fg));
  --color-background:       hsl(var(--kpdf-bg));
  --color-foreground:       hsl(var(--kpdf-fg));
  --color-surface:          hsl(var(--kpdf-surface));
  --color-muted:            hsl(var(--kpdf-muted-bg));
  --color-muted-foreground: hsl(var(--kpdf-muted-fg));
  --color-card:             hsl(var(--kpdf-card));
  --color-card-foreground:  hsl(var(--kpdf-card-fg));
  --color-border:           hsl(var(--kpdf-border));
  --color-input:            hsl(var(--kpdf-input));
  --color-ring:             hsl(var(--kpdf-ring));
  --color-destructive:      hsl(var(--kpdf-destructive));
  --color-destructive-foreground: hsl(var(--kpdf-destructive-fg));
  --color-success:          hsl(var(--kpdf-success));
  --color-success-foreground: hsl(var(--kpdf-success-fg));
  --color-warning:          hsl(var(--kpdf-warning));
  --color-warning-foreground: hsl(var(--kpdf-warning-fg));

  /* Radius tokens */
  --radius-sm:   var(--kpdf-radius-sm);
  --radius-md:   var(--kpdf-radius-md);
  --radius-lg:   var(--kpdf-radius-lg);
  --radius-xl:   var(--kpdf-radius-xl);
  --radius-2xl:  var(--kpdf-radius-2xl);
  --radius-full: var(--kpdf-radius-full);
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */
*, *::before, *::after {
  border-color: hsl(var(--kpdf-border));
  box-sizing: border-box;
}

html {
  /* Ensure the data-theme attribute is applied to the right element */
  background-color: hsl(var(--kpdf-bg));
}

body {
  background-color: hsl(var(--kpdf-bg));
  color: hsl(var(--kpdf-fg));
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* =============================================================================
   TOOL CARD — it-tools.tech inspired tiles
   ============================================================================= */
.tool-card {
  background-color: hsl(var(--kpdf-card));
  border: 1px solid hsl(var(--kpdf-border));
  color: hsl(var(--kpdf-card-fg));
  border-radius: var(--kpdf-radius-lg);
  transition: background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease;
}

.tool-card:hover {
  background-color: hsl(var(--kpdf-surface));
  border-color: hsl(var(--kpdf-primary));
  box-shadow: 0 4px 20px hsl(var(--kpdf-primary) / 0.15);
  transform: translateY(-2px);
}

.tool-card-icon {
  background-color: hsl(var(--kpdf-icon-bg, var(--kpdf-primary) / 0.10));
  color: hsl(var(--kpdf-icon-color, var(--kpdf-primary)));
  border-radius: var(--kpdf-radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.75rem;
  height: 2.75rem;
  flex-shrink: 0;
  transition: transform 0.15s ease;
}

.tool-card:hover .tool-card-icon {
  transform: scale(1.1);
}

.tool-card-title {
  color: hsl(var(--kpdf-card-fg));
  font-size: 0.9375rem;
  font-weight: 600;
  line-height: 1.4;
  transition: color 0.15s ease;
}

.tool-card:hover .tool-card-title {
  color: hsl(var(--kpdf-primary));
}

.tool-card-description {
  color: hsl(var(--kpdf-muted-fg));
  font-size: 0.8125rem;
  line-height: 1.5;
}

.tool-card-badge {
  background-color: hsl(var(--kpdf-muted-bg));
  color: hsl(var(--kpdf-muted-fg));
  font-size: 0.6875rem;
  font-weight: 500;
  padding: 0.1875rem 0.5rem;
  border-radius: var(--kpdf-radius-full);
  letter-spacing: 0.02em;
}

/* =============================================================================
   GLASS UTILITY — theme-aware, no hardcoded rgba
   ============================================================================= */
.glass {
  background-color: hsl(var(--kpdf-surface) / 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid hsl(var(--kpdf-border));
}

/* Legacy glass-card — replaced internally but kept for backward compat */
.glass-card {
  background-color: hsl(var(--kpdf-card));
  border: 1px solid hsl(var(--kpdf-border));
  color: hsl(var(--kpdf-card-fg));
}

/* =============================================================================
   FOCUS STYLES — WCAG 2.1 SC 2.4.11 (3px offset, 2px ring)
   ============================================================================= */
.focus-ring {
  outline: 2px solid transparent;
  outline-offset: 2px;
}

.focus-ring:focus-visible {
  outline: 2px solid hsl(var(--kpdf-ring));
  box-shadow: 0 0 0 4px hsl(var(--kpdf-bg)), 0 0 0 6px hsl(var(--kpdf-ring));
}

:focus-visible {
  outline: 2px solid hsl(var(--kpdf-ring));
  outline-offset: 2px;
}

:focus:not(:focus-visible) {
  outline: none;
}

/* =============================================================================
   GRADIENT TEXT
   ============================================================================= */
.text-gradient {
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-image: linear-gradient(135deg, hsl(var(--kpdf-primary)), hsl(var(--kpdf-accent)));
}

/* =============================================================================
   SCROLLBAR — theme-aware
   ============================================================================= */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: hsl(var(--kpdf-border));
  border-radius: var(--kpdf-radius-full);
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--kpdf-muted-fg) / 0.5);
}

/* =============================================================================
   ANIMATIONS
   ============================================================================= */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}
.animate-shimmer { animation: shimmer 1.5s infinite; }

@keyframes blob {
  0%   { transform: translate(0, 0) scale(1); }
  33%  { transform: translate(30px, -50px) scale(1.1); }
  66%  { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0, 0) scale(1); }
}
.animate-blob { animation: blob 7s infinite; }
.animation-delay-2000 { animation-delay: 2s; }
.animation-delay-4000 { animation-delay: 4s; }

/* =============================================================================
   ACCESSIBILITY UTILITIES
   ============================================================================= */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.sr-only:focus-visible {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* =============================================================================
   RTL SUPPORT
   ============================================================================= */
[dir="rtl"] { text-align: right; }
[dir="rtl"] .rtl\:flip { transform: scaleX(-1); }
[dir="rtl"] .me-2 { margin-inline-end: 0.5rem; }
[dir="rtl"] .ms-2 { margin-inline-start: 0.5rem; }

/* =============================================================================
   MISC UTILITIES
   ============================================================================= */
.scroll-smooth { scroll-behavior: smooth; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }
